<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<link rel="stylesheet" href="css/common.css" />

		<link
			href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans&display=swap"
			rel="stylesheet"
		/>
		<title>Homepage</title>
		<script
			src="https://kit.fontawesome.com/7b84baa30a.js"
			crossorigin="anonymous"
		></script>
	</head>
	<body>
		<header class="header header-home main-grid">
			<div class="header-content">
				<a class="logo-link" href="index.html">
					<img src="images/logo.png" alt="" class="logo" />
				</a>
				<button class="open-nav" aria-label="Open Navigation">&#9776;</button>

				<nav class="nav">
					<button aria-label="Close navigation" class="close-nav">
						&times;
					</button>
					<ul class="nav-list">
						<li class="nav-item">
							<a class="nav-link" href="index.html">HOME</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="about.html">OVERVIEW</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="howto.html">CONTAINERIZE</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="submit.html">SUBMIT</a>
						</li>
					</ul>
				</nav>
			</div>
		</header>

		<main class="main-template main-grid">
			<h1 class="page-title">How to Containerize with ChRIS and Docker</h1>
			<p class="sub-title">Let's get started !</p>
			<img class="main-image" src="images/images.jpg" alt="main image" />

			<div class="main-text">
				
				<p>

					<br /><br />
				<h2 class="section-title">Classification Output Requirements</h2>
				<p>
				The results from your model should be output into a text file in the following format: 
				<ul>
					<li> Classification labels should be 0 = Controls, 1 = Patient;</li>
					<li> Prediction probability or score for each subject is required;</li>				
					<li> The output file should contain comma-separated values and named "classification.csv";</li>
					<li> Each row must contain the subject ID, the classification label, and the prediction probability (one 						row per subject)</li>
				</ul>	
	
					eg. <br><pre>
	sub-066,1,0.7269782399142388
	sub-090,0,0.8111361229380137
	.
	.
	.
	sub-111,0,0.60761617828937793
	sub-115,1,0.836589863164504
					</pre>

				</p>


				</p>
				<h2 class="section-title">Installation Requirements and Quick Setup</h2>
				<p>
				<ol>
					<li> Install <b>Python</b> (3.5+) and <b>pip</b></li>
					<li> Create a <a href="https://github.com/"><b>GitHub</b> account</a>, and 						install it on your machine;</li>
					<li> Create a <a href="https://hub.docker.com/"><b>Docker Hub</b> account</a>;
					<li> Install the latest <b>Docker</b> (17.04.0+) if you want to test your plugin's Docker image and 						containers on your machine. To install on Ubuntu 18.04:<br>
      
					<p><font face = "courier" size = "3" color = "#000000">
						    &nbsp&nbsp&nbsp&nbsp apt-get remove docker docker-engine docker.io <br>
						    &nbsp&nbsp&nbsp&nbsp apt install docker.io  <br>
					       </font>
					</p>
					Otherwise, visit <a href="https://docs.docker.com/install/">https://docs.docker.com/install/</a> for installation directions.

					<li> Fork our wrapper template <b><a href="https://github.com/aichung/pl-cni_challenge">pl-cni_challenge</a></b> repository to your GitHub.</li>
					<li> Log onto your Docker Hub account and create a new repository with automated build:</li><br>
					<ol type="a">
						<li>In 'Account Settings' -> 'Linked Accounts', connect your GitHub account to your DockerHub account.</li>
						<li>In your DockerHub home, click the <b>Create Repository+</b>  button. The website page will walk you through setting up the automated build. When prompted for the GitHub repository that you’d like to use for the automated build select the <b>pl-cni_challenge</b> repository that you just forked. Name the Docker repository <i>${cni_challenge_DockerRepo}</i> and make it Public.</li>

						<li><b>***It is extremely important that you tag your automatically built docker image with an appropriate version number based on your GitHub tags***.</b><br>
&nbsp&nbsp&nbsp&nbsp Create a new build rule by clicking the <b>BUILD RULES+</b>  button. A good rule is **Source type:** "Tag", **Source:** "/^[0-9.]+$/" and **Docker Tag:** "version-{sourceref}".</li>
						<li> Click <b>Create & Build</b>  button to finish the setup and trigger the automated build.<br><br></li>
				</ol>
				<li>After this build has completed, the <b>cni_challenge</b> bare bones example is now available as a Docker image to be pulled from your Docker Hub. The link to it will be <i>${your_Docker_account name}/${cni_challenge_DockerRepo}</i>.Use this to <a href="submit">evaluate</a> your model on the test set.</li>
			

				<h2 class="section-title">Plugin Wrapper</h2>
				<p>


				</p>


				</p>
				<h2 class="section-title">Dockerize and upload your Model for Testing</h2>
				<p>
				Our Challenge portal employs the <a href="https://chrisproject.org">ChRIS platform</a>, an open source framework 					that utilizes cloud technologies to democratize medical analytics application development.
				<br /><br />
				To evaluate your model, the following steps are required:
				<ol>
					<li> Enable your classification model to output its decisions in a .csv file as per our <a href="">requirements</a>;</li>
					<li> Train your model on our released datasets: 
						<ul>
						<li><a href="https://github.com/mdschirmer/2019_CNI_TrainingRelease">Training data</a></li>
						<li><a href="https://github.com/mdschirmer/2019_CNI_ValidationRelease">Validation data</a></li>
						</ul>
					<li> Populate our wrapper code with your trained model to convert it into a containerized plugin that is ChRIS compatible;</li>
					<li> Upload your containerized plugin to your <a href="https://www.docker.com">Docker Hub</a>;</li>
					<li> Immedietely evaluate your model on hidden test data by entering the Docker image link <a href="submit.html">here</a>.</li>
				</ol>
				</p>
			</div>
		</main>

		<footer class="footer main-grid">
			<div class="footer-main">
				<img src="images/logo.png" alt="" class="footer-logo" />
				<p class="footer-text">
					Connectomics in NeuroImaging Challenge
				</p>
				<p class="footer-fineprint">© Gideon Pinto 2019</p>
			</div>
			<ul class="social-list">
				<li class="social-item">
					<a href="#" class="social-link"
						><i class="fab fa-facebook-square"></i
					></a>
				</li>
				<li class="social-item">
					<a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
				</li>
				<li class="social-item">
					<a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
				</li>
			</ul>
		</footer>

		<script src="js/script.js"></script>
	</body>
</html>
